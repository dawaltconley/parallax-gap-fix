---
layout: default
---

<div id="options">
  <select id="fix-options">
    <option value="null">Original</option>
    <option value="fix-1a">Fix 1a</option>
    <option value="fix-1b">Fix 1b</option>
    <option value="fix-2a">Fix 2a</option>
    <option value="fix-2b">Fix 2b</option>
    <option value="fix-3">Fix 3</option>
  </select>
  <div>
    <label for="toggle-center">
      <input type="checkbox" id="toggle-center">
      Show Center
    </label>
  </div>
</div>
<div class="parallax-page">
  <div class="parallax-group screen-height">
    <div class="parallax-bg-deep bg-1 arrows"></div>
    <div class="parallax-bg-middle content arrows">
      <h1>Parallax Gap Fix</h1>
      <p>This page uses <a href="https://keithclark.co.uk/articles/pure-css-parallax-websites/">
        Kieth Clark's Pure CSS parallax layout.</a>
      It works fine without scrollbars, or with the default Mac scrollbars
      for trackpads, which do not change the width of the scrolling element.</p>
    </div>
  </div>
  <div class="content base-layer screen-height arrows">
    <h2>Try forcing scrollbars</h2>
    <p>On Mac, you can do this by going to <code>System Preferences &gt;
    General</code> and setting <code>Show scroll bars</code> to
    <code>Always.</code> This also happens under the default settings
    whenever a USB mouse is connected.</p>
  </div>
  <div class="parallax-group screen-height">
    <div class="parallax-bg-middle bg-2 arrows"></div>
    <div class="parallax-bg-shallow content arrows">
      <h2>Do you see it now?</h2>
      <p>A red strip of document body peeking past the parallax background.
      This is because the scrollbar changes the inner width of an element,
      but not the total size, in which the 3D space for parallax elements is
      rendered.</p>
    </div>
  </div>
  <div class="content base-layer screen-height arrows">
    <h2>How do I fix it?</h2>
    <p>You can try some of my fixes using the menu in the top left. The first
    pair modifies the <code>perspective-origin</code> and
    <code>transform-origin</code> properties. The second adds padding and
    negative margins to offset the scrollbar.</p>
  </div>
  <div class="parallax-group screen-height">
    <div class="parallax-bg-middle bg-3 arrows"></div>
    <div class="parallax-bg-shallow content arrows">
      <h2>Browser Inconsistencies</h2>
      <p>When I initially wrote this in  2018, Safari rendered 3D space
      differently than other modern browsers, making every solution imperfect.
      Fixes 1a and 2a were slightly misaligned on Safari, while fixes 1b and 2b
      only worked on Safari.</p>
    </div>
  </div>
  <div class="content base-layer screen-height arrows">
    <h2>Verdict?</h2>
    <p>At least since Safari 14, this is no longer a problem. Fixes 1a and 2a
    are aligned across all modern browsers, and the extra padding of fixes 2a
    and 2b, which accounted for browser inconsistencies, is no longer needed.
    <strong>Fix 2a is the best solution.</strong></p>
  </div>
  <footer>
    <div class="footer-table">
      <p>Copyright Â© 2018 Dylan Awalt-Conley</p>
      <p>
        Have a better solution?
        <a href="https://github.com/dawaltconley/parallax-gap-fix">
          <i class="fa fa-github fa-fw fa-lg">&nbsp;</i>Let me know
        </a>
      </p>
    </div>
  </footer>
</div>
